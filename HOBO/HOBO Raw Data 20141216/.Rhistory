?stat_contour
ggmap(white.map,extent = "device", maprange=FALSE)+
stat_contour( data = sites.coords,
aes( x = LONG, y = LAT, z = ELE,))
ggmap(white.map,extent = "device", maprange=FALSE)+
stat_contour( data = sites.coords,
aes( x = LONG, y = LAT, z = ELE))
?stat_contour
ggmap(white.map,extent = "device", maprange=FALSE)+
geom_point(data=sites.coords, aes(x=LONG, y=LAT, colour=ZONE), size=3)+
stat_density2d(aes(x = LONG, y = LAT, colour = ELE), bins = 5)
ggmap(white.map,extent = "device", maprange=FALSE)+
stat_density2d(aes(x = LONG, y = LAT, colour = ELE), data=sites.coords bins = 5)
ggmap(white.map,extent = "device", maprange=FALSE)+
stat_density2d(aes(x = LONG, y = LAT, colour = ELE), data=sites.coords, bins = 5)
map("terrain", "California")
?map
map("state", "California")
map("state", "California")
points(sites.coords$LONG, sites.coords$LAT, pch=19, col="red")
points(sites.coords$LONG, sites.coords$LAT, pch=19,cex=3 col="red")
map("state", "California")
points(sites.coords$LONG, sites.coords$LAT, pch=19,cex=3, col="red")
map("state", "California")
points(sites.coords$LONG, sites.coords$LAT, pch=19,cex=.5, col="red")
ggmap(white.map,extent = "device", maprange=FALSE)+
geom_point(data=sites.coords, aes(x=LONG, y=LAT, colour=ZONE), size=3)
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval.precip<-c(.95,.95,3)
prec<-c(.95,1.2,.8)
xval.heat<-c(1.05,1.2,3)
heat<-c(.95,1.2,1.2)
mat<-cbind(amb,both)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER EDGE", "CENTER OF RANGE", "UPPER EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval.precip<-c(.95,2,3)
prec<-c(.95,.95,.8)
xval.heat<-c(1.05,2,3)
heat<-c(.95,1.15,1.2)
mat<-cbind(amb,both)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval.precip<-c(.95,2,3)
prec<-c(.95,.95,.8)
xval.heat<-c(1.05,2,3)
heat<-c(.95,1.15,1.2)
mat<-cbind(amb,both)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER EDGE", "CENTER OF RANGE", "UPPER EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"))
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval<-1:3
amb <-c(1.02,1.1,1.02)
both<-c(.75,1.05,.95)
xval.precip<-c(.95,2,3)
prec<-c(.95,.95,.8)
xval.heat<-c(1.05,2,3)
heat<-c(.95,1.15,1.2)
mat<-cbind(amb,both)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER EDGE", "CENTER OF RANGE", "UPPER EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"),cex=.8)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER EDGE", "CENTER OF RANGE", "UPPER EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"),cex=.8)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER EDGE", "CENTER OF RANGE", "UPPER EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"),cex=.8)
axis(side=1, at=c(1,2,3), labels=c("LOWER
EDGE", "CENTER OF RANGE", "UPPER
EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
matplot(xval,mat, pch=19, cex=2, xaxt="n", xlab=NA, ylab=NA,
col=c("black","purple"),las=1, xlim=c(.9,3), ylim=c(.75,1.2))
mtext(side=2,las=1, line=2, text=expression(lambda), cex=2)
points(xval.heat, heat, col="red", pch=19, cex=2)
points(xval.precip, prec, col="dodgerblue", pch=19, cex=2)
abline(h=1, lty="dashed", lwd=4)
axis(side=1, at=c(1,2,3), labels=c("LOWER
EDGE", "CENTER OF RANGE", "UPPER
EDGE"))
legend("topleft",legend=c("AMBIENT","-PRECIP", "+TEMP", "BOTH"),
fill=c("black", "dodgerblue", "red", "purple"),cex=.8)
library(dismo)
elephant = gbif("ivesia", "lycopodioides*", geo=FALSE)
ivesia = gbif("ivesia", "lycopodioides*", geo=FALSE)
dim(ivesia)
head(ivesia)
IL <- subset(ivesia, !is.na(lon) & !is.na(lat))
dim(IL)
head(IL)
head(IL)
library(maptools)
data(wrld_simpl)
>plot(wrld_simpl, xlim=c(-80,70), ylim=c(-60,10), axes=TRUE,
plot(wrld_simpl, xlim=c(-80,70), ylim=c(-60,10), axes=TRUE,
+ col="light yellow")
plot(wrld_simpl, xlim=c(-80,70), ylim=c(-60,10), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-80,70), ylim=c(-60,10), axes=TRUE, col="light yellow")
> box()
box()
plot(wrld_simpl, xlim=c(10,20), ylim=c(-60,10), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(0,90), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(-30,90), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(-50,90), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(-90,90), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(-90,-50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(-90,0), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(10,20), ylim=c(0,-50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-50,0), ylim=c(0,-50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-90,0), ylim=c(0,-50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-90,0), ylim=c(0,50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-20,0), ylim=c(0,50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-120,0), ylim=c(0,50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-120,-80), ylim=c(0,50), axes=TRUE, col="light yellow")
plot(wrld_simpl, xlim=c(-120,-80), ylim=c(0,50), axes=TRUE, col="white")
box()
> points(IL$lon, IL$lat, col='orange', pch=19, cex=0.75)
points(IL$lon, IL$lat, col='orange', pch=19, cex=0.75)
plot(wrld_simpl, xlim=c(-120,-80), ylim=c(30,50), axes=TRUE, col="white")
plot(wrld_simpl, xlim=c(-120,-80), ylim=c(,50), axes=TRUE, col="white")
plot(wrld_simpl, xlim=c(-120,-80), ylim=c(0,50), axes=TRUE, col="white")
points(IL$lon, IL$lat, col='orange', pch=19, cex=0.75)
points(acgeo$lon, acgeo$lat, col='red', cex=0.75)
points(IL$lon, IL$lat, col='red', cex=0.75)
points(IL$lon, IL$lat, col='orange', pch=19, cex=0.75)
colnames9IL
colnames(IL)
IL[,c(7,8)]
?pairs
?predict?
library(lsmeans)
library(lme4)
library(lattice)
library(ggplot2)
all.plots<-read.csv("~/Desktop/Ivesia/2014/IVESIA_PLOTS_2014.csv")
all.plots<-(na.omit(all.plots))
head(all.plots)
dim(all.plots) #2808
plots<-unique(all.plots$PLOT)
plots<-c(plots,plots.2013$Plot.ID)
plots.2013<-read.csv("/Users/meaganoldfather/Dropbox/IVESIA2013/IvesiaData2013/Data/Plot_Data.csv")
head(plots.2013)
indv.2013<-read.csv("/Users/meaganoldfather/Dropbox/IVESIA2013/IvesiaData2013/Data/Indv_Data.csv")
head(indv.2013)
dim(indv.2013) # 470
plots<-unique(all.plots$PLOT)
plots<-c(plots,plots.2013$Plot.ID)
sites<-unique(all.plots$SITE)
sites<-as.vector(sites)
regions<-unique(all.plots$REGION)
regions<-as.vector(regions)
plots.ele<-read.csv("~/Desktop/Ivesia/2014/plot.stats.data.csv")
plots.ele$ELEVATION<-as.numeric(plots.ele$ELEVATION)
plots.ele$REGION <- factor(plots.ele$REGION, levels = c("HIGH", "MID", "LOW"))
ave.ele<-with(plots.ele, aggregate(ELEVATION~SITE, FUN=mean))
ave.ele
hist<- ggplot(plots.ele, aes(x=ELEVATION, fill=SITE)) + geom_bar()+theme_bw()+ ylab("NUMBER OF PLOTS")
hist
ele.indv<-merge(plots.ele, all.plots, by="PLOT")
ele.indv$ELEVATION<-as.numeric(ele.indv$ELEVATION)
ele.indv<-ele.indv[,-c(7,13,14)]
head(ele.indv)
hist2<-ggplot(ele.indv, aes(x=ELEVATION, fill=REGION.x))+geom_bar(binwidt=30)+theme_bw()
hist2+ylab("Number of Individuals")
num.plot<-with(all.plots, aggregate(all.plots$TAG~all.plots$PLOT, FUN=length))
colnames(num.plot)<-c("PLOT","NUMBER")
num.plot
num.plot$Density<-(num.plot$NUMBER/900)
num.plot<-merge(num.plot, plots.ele)
with(num.plot, plot(ELEVATION, (as.numeric(NUMBER)),pch=19, ylab="Individuals per Plot"))
lm1<-with(num.plot, lm(NUMBER~as.numeric(ELEVATION)*REGION))
summary(lm1)
lm2<-with(num.plot, lm(NUMBER~REGION))
summary(lm2) # very significant
fit<-aov(NUMBER~REGION,data=num.plot)
summary(fit) # significant
TukeyHSD(fit)
soil.2014.June<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JUNE_2014.csv")
head(soil.2014.June)
soil.2014.June$REGION <- factor(soil.moisture$REGION, levels = c("HIGH", "MID", "LOW"))
soil.2014.June<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JUNE_2014.csv")
soil.2014.June<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JUNE_2014.csv")
head(soil.2014.June)
soil.2014.June$REGION <- factor(soil.2014.June$REGION, levels = c("HIGH", "MID", "LOW"))
s.14.JUNE<- with(soil.2014.June, aggregate(VWC~REGION, FUN=mean))
s.14.JUNE
soil.2014.July<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JULY_2014.csv")
soil.2014.July$REGION <- factor(soil.moisture$REGION, levels = c("HIGH", "MID", "LOW"))
head(soil.2014.July)
s.14.JULY<- with(soil.2014.July, aggregate(VWC~REGION, FUN=mean))
s.14.JULY
hist<- ggplot(soil.2014.June, aes(x=VWC, fill=REGION))
hist + geom_bar(binwidth=1) + theme_bw() + xlab("% SOIL MOISTURE")+ylab("NUMBER OF PLOTS")+ggtitle("JUNE 2014")
hist + geom_bar(binwidth=1) + theme_bw() + xlab("% SOIL MOISTURE")+ylab("NUMBER OF PLOTS")+ggtitle("JUNE 2014")
line_size<- ggplot(soil.2014.June, aes(VWC,..density..,colour=REGION))
line_size + geom_freqpoly(binwidth=10)
vwc.by.site<-with(soil.2014.July, aggregate(VWC~SITE, FUN=mean))
vwc.by.region<-with(soil.2014.July, aggregate(VWC~REGION, FUN=mean))
hist<- ggplot(soil.2014.July, aes(x=VWC, fill=REGION))
hist + geom_bar(binwidth=1) + theme_bw() + xlab("% SOIL MOISTURE")+ylab("NUMBER OF PLOTS")+ggtitle("JULY 2014")
line_size<- ggplot(soil.2014.July, aes(VWC,..density..,colour=REGION))
line_size + geom_freqpoly(binwidth=10)
head(water) # From "IvesiaScript.R
water.2013<-water[,c(2,11)]
colnames(water.2013)<-c("PLOT", "VWC.2013")
density.by.site<-with(num.plot, aggregate(NUMBER~SITE, FUN=mean))
head(density.by.site)
vwc.density<- merge(vwc.by.site, density.by.site)
head(vwc.density)
vwc.density<-vwc.density[-13,]
with(vwc.density, plot(VWC, NUMBER, pch=19))
fit3<-with(vwc.density, lm(NUMBER~VWC))
summary(fit3)# significant
plot(num.plot$ELEVATION, vwc.by.plot$VWC)
june14survey<-lapply(paste("~/Desktop/Ivesia/2014/Resurvey2013plots/CSV/",dir("~/Desktop/Ivesia/2014/Resurvey2013plots/CSV"), sep=""), read.csv)
june14survey<-do.call(rbind,june14survey)
colnames(june14survey)<-c("PLOT", "TAG", "X", "Y","R.2013", "L.2013", "LL.2013", "Alive", "Ros","Lvs","LL", "Stalks",
"Budding", "Flowering", "Notes")
head(june14survey)
june14survey$Alive<-as.numeric(june14survey$Alive)
june14survey$L.2013<-as.numeric(june14survey$L.2013)
june14survey$LL.2013<-as.numeric(june14survey$LL.2013)
dead<-june14survey[june14survey$Alive==0,]
dim(dead) # approx 10% died!
hist(june14survey$L.2013, col="green")
hist(dead$L.2013, col="red", add=T)
hist(june14survey$LL.2013, col="green")
hist(dead$LL.2013, col="red", add=T)
fit<-lm(Alive)
library(plyr)
soil.2014.June<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JUNE_2014.csv")
head(soil.2014.June)
#soil.2014.June$REGION<-factor(soil.2014.June, levels<-c("HIGH", "MID", "LOW"))
#JULY
soil.2014.July<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JUlY_2014.csv")
head(soil.2014.July)
#AUG
soil.2014.Aug<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_AUGUST_2014.csv")
head(soil.2014.Aug)
#SEPT
soil.2014.Sept<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_SEPT_2014.csv")
head(soil.2014.Sept)
par(mfrow=c(1,4))
with(soil.2014.June, boxplot(VWC~REGION, col="blue"))
with(soil.2014.July, boxplot(VWC~REGION, col="lightblue"))
with(soil.2014.Aug, boxplot(VWC~REGION, col="purple"))
with(soil.2014.Sept, boxplot(VWC~REGION, col="red"))
all.soil.2014<-cbind(soil.2014.June[,2:5],soil.2014.July[,4],soil.2014.Aug[,4],soil.2014.Sept[,4] )
head(all.soil.2014)
all.soil.2014<-all.soil.2014[,c(1,2,4,3,5,6,7)]
colnames(all.soil.2014)<-c("SITE","PLOT","ZONE","JUNE","JULY","AUG","SEPT")
head(all.soil.2014)
all.soil.2014
#all.soil.2014$Decay<-with(all.soil.2014,JUNE-SEPT)
unique(all.soil.2014$ZONE)
class(all.soil.2014$ZONE)
all.soil.2014$ZONE<-revalue(all.soil.2014$ZONE, c("LOW"="Lower Limit", "MID"="Center of Range", "HIGH"="Upper Limit"))
mat.y.Low<-t(all.soil.2014[all.soil.2014$ZONE =="LOW",4:7])
mat.y.Mid<-t(all.soil.2014[all.soil.2014$ZONE =="MID",4:7])
mat.y.High<-t(all.soil.2014[all.soil.2014$ZONE =="HIGH",4:7])
mat.x<-1:4
matplot(jitter(mat.x), mat.y.Low, type="l", col= "black")
matplot(jitter(mat.x), mat.y.Mid, type="l", col=3, add=T)
matplot(jitter(mat.x), mat.y.High, type="l", col="blue", add=T)
head(all.soil.2014)
library(reshape)
test<-melt(all.soil.2014, id=c("PLOT","SITE","ZONE"))
test
test$Month<-1
test$Month[test$variable=="JULY"]<-2
test$Month[test$variable=="AUG"]<-3
test$Month[test$variable=="SEPT"]<-4
test
fit.low<-with(test[test$ZONE=="LOW",], lm(value~Month))
fit.mid<-with(test[test$ZONE=="MID",], lm(value~Month))
fit.high<-with(test[test$ZONE=="HIGH",], lm(value~Month))
abline(fit.low)
fit.low<-with(test[test$ZONE=="LOW",], lm(value~Month))
ggplot(month, aes(x=Month, y=value, colour=ZONE))+theme_bw()+
test<-melt(all.soil.2014, id=c("PLOT","SITE","ZONE"))
test<-melt(all.soil.2014, id=c("PLOT","SITE","ZONE"))
test
test$Month<-1
test$Month[test$variable=="JULY"]<-2
test$Month[test$variable=="AUG"]<-3
test$Month[test$variable=="SEPT"]<-4
test
fit.low<-with(test[test$ZONE=="LOW",], lm(value~Month))
month<-with(test, aggregate(value~ZONE+SITE+Month, FUN=mean))
region<-with(test, aggregate(value~ZONE+Month, FUN=mean))
head(month)
month$ZONE<-factor(month$ZONE, levels=c("Upper Limit", "Center of Range", "Lower Limit"), ordered=TRUE)
ggplot(month, aes(x=Month, y=value, colour=ZONE))+theme_bw()+
stat_smooth(method="glm", se=F)+
ylab("% SOIL MOISTURE")+
xlab("MONTH")+
scale_x_discrete(labels=c("JUNE", "JULY", "AUGUST","SEPTEMBER"))
library(lsmeans)
library(lme4)
library(lattice)
library(ggplot2)
library(lmerTest)
library(afex)
library(bbmle)
july14 <- read.csv("~/Desktop/Ivesia/2014/JulyResurvey.csv")
july14<-july14[july14$PLOT!=c(""),]
dim(july14)
head(july14)
july14[1:29,]
july14[is.na(july14)] <- 0
plots.ele<-read.csv("~/Desktop/Ivesia/2014/plot.stats.data.csv")
plots.ele$ELEVATION<-as.numeric(plots.ele$ELEVATION)
head(plots.ele)
dim(plots.ele)
jul14.stats<-merge(july14,plots.ele,by="PLOT")
head(jul14.stats)
jul14.stats<-jul14.stats[,-c(18,19)]
dim(jul14.stats)
jul14.stats[1:29,]
jul14.stats<-subset(jul14.stats, subset=(jul14.stats$LL.J!= -999))
jul14.stats<-subset(jul14.stats, subset=(jul14.stats$LVS!= -999))
dim(jul14.stats)
jul14.stats[jul14.stats$STATUS==2,"STATUS"]<-1
jul14.stats[jul14.stats$STATUS==3,"STATUS"]<-1
unique(jul14.stats$STATUS)
sum(jul14.stats$STATUS == 0)
soil.2014.July<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JULY_2014.csv")
head(soil.2014.July)
pd<-merge(Percent.Dead, soil.2014.July)
pd<-pd[,-c(3)]
pd$REGION<-factor(pd$REGION, levels = c("HIGH", "MID", "LOW"))
pd
with(pd, plot(VWC,Percent.Dead, ylab="Percent Survival",pch=19))
fit1<-with(pd, lmer(Percent.Dead ~ (1| REGION/SITE)))
fit2<-with(pd, lmer(Percent.Dead ~ REGION+(1| REGION/SITE)))
fit3<-with(pd, lmer(Percent.Dead ~ VWC+(1| REGION/SITE)))
fit4<-with(pd, lmer(Percent.Dead ~ LVS+(1| REGION/SITE)))
# percent dead
percent.dead.region<-aggregate(x=jul14.stats$STATUS, by=list(jul14.stats$REGION), FUN=mean)
percent.dead.region # the least died in the middle
Percent.Dead<-aggregate(x=jul14.stats$STATUS, by=list(jul14.stats$PLOT), FUN=mean)
Percent.Dead
colnames(Percent.Dead)<- c("PLOT", "Percent.Dead")
# combine with elevation and soil moisture
sum(jul14.stats$STATUS == 0)
fit1<-with(jul14.stats, glmer(STATUS ~ REGION + (1 + REGION | REGION/SITE.x), family=binomial))
ggplot(jul14.stats, aes(x=LL.J, y=STATUS, colour=REGION))+geom_point(size=3)+theme_bw()
percent.dead.region<-aggregate(x=jul14.stats$STATUS, by=list(jul14.stats$REGION), FUN=mean)
percent.dead.region # the least died in the middle
Percent.Dead<-aggregate(x=jul14.stats$STATUS, by=list(jul14.stats$PLOT), FUN=mean)
Percent.Dead
colnames(Percent.Dead)<- c("PLOT", "Percent.Dead")
soil.2014.July<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JULY_2014.csv")
head(soil.2014.July)
pd<-merge(Percent.Dead, soil.2014.July)
pd<-pd[,-c(3)]
pd$REGION<-factor(pd$REGION, levels = c("HIGH", "MID", "LOW"))
pd
with(pd, plot(VWC,Percent.Dead, ylab="Percent Survival",pch=19))
fit1<-with(pd, lmer(Percent.Dead ~ (1| REGION/SITE)))
fit2<-with(pd, lmer(Percent.Dead ~ REGION+(1| REGION/SITE)))
fit3<-with(pd, lmer(Percent.Dead ~ VWC+(1| REGION/SITE)))
fit4<-with(pd, lmer(Percent.Dead ~ LVS+(1| REGION/SITE)))
d14<-subset(jul14.stats, subset=jul14.stats$STATUS==0)
j14<-subset(jul14.stats, subset=jul14.stats$STATUS==1)
hist(j14$LVS.J, col="green")
hist(d14$LVS.J, col="red", add=T)
num<-with(j14, aggregate(j14$TAG~j14$REGION+j14$SITE+j14$PLOT, FUN=length))
colnames(num)<-c("REGION","SITE","PLOT","NUMBER")
num
num$REGION<-factor(num$REGION, levels=c("Upper Limit", "Center of Range", "Lower Limit", "HIGH", "MID", "LOW"), ordered=TRUE)
num[num$REGION == "LOW","REGION"]<-"Lower Limit"
num[num$REGION == "MID","REGION"]<-"Center of Range"
num[num$REGION == "HIGH","REGION"]<-"Upper Limit"
plot<-ggplot(num, aes(NUMBER,..density..,colour=REGION))+geom_freqpoly(binwidth=20)
plot+theme_bw()
fit2<-with(jul14.stats, lmer(STALKS ~ REGION*LVS + (1 + REGION | REGION/SITE.x)))
summary(fit2)
fit7<-with(jul14.stats, glm(STALKS~ REGION*LL.J)) # no nesting
AIC(fit1,fit2,fit3,fit4, fit5, fit6, fit7)
fit4<-with(jul14.stats, lmer(STALKS ~ REGION*LVS.J+(1| REGION/SITE.x)))
ggplot(jul14.stats, aes(LVS.J, STALKS, colour=REGION))+geom_point()+theme_bw()+stat_smooth(method="lm")+
facet_grid(REGION~.)+xlab("LEAVES PER INDIVIDUAL")+ylab("STALKS PER INDIVIDUAL")
line_size<- ggplot(jul14.stats, aes(STALKS,..density..,colour=REGION))
line_size + geom_freqpoly(binwidth=10)
plot<-ggplot(data=j14, aes(STALKS, LVS.J, colour=REGION))
plot+geom_point() # this is interesting looking
j14f<-subset(j14, subset=(j14$STALKS>0))
try1<-aggregate(LVS.J ~ REGION, data=j14f,FUN=summary )
try1 # all the same size for min, high as a mean smaller size of flowering individual
j14$REGION<-factor(j14$REGION, levels=c("Upper Limit", "Center of Range", "Lower Limit", "HIGH", "MID", "LOW"), ordered=TRUE)
j14[j14$REGION == "LOW","REGION"]<-"Lower Limit"
j14[j14$REGION == "MID","REGION"]<-"Center of Range"
j14[j14$REGION == "HIGH","REGION"]<-"Upper Limit"
plot<-ggplot(j14, aes(LVS.J, fill=REGION))+geom_bar(binwidth=2)
plot+theme_bw()+xlab("LEAVES PER INDIVIDUAL")+ylab("NUMBER OF INDIVIDUALS")+xlim(1,100)
soil.2014.July<-read.csv("~/Desktop/Ivesia/2014/Soil Moisture/SoilMoisture_JULY_2014.csv")
head(soil.2014.July)
soil.2014.July$REGION<-factor(soil.2014.July$REGION, levels=c("Upper Limit", "Center of Range", "Lower Limit", "HIGH", "MID", "LOW"), ordered=TRUE)
soil.2014.July[soil.2014.July$REGION == "LOW","REGION"]<-"Lower Limit"
soil.2014.July[soil.2014.July$REGION == "MID","REGION"]<-"Center of Range"
soil.2014.July[soil.2014.July$REGION == "HIGH","REGION"]<-"Upper Limit"
j14.sm<-merge(num, soil.2014.July)
head(j14.sm)
plot<-ggplot(j14.sm, aes(VWC, NUMBER, colour=REGION))+geom_point()+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
plot+theme_bw()+ facet_grid(REGION~.)+geom_smooth(method=lm)
fit1<-with(j14.sm, lmer(NUMBER ~ (1| REGION/SITE)))
fit2<-with(j14.sm, lmer(NUMBER~REGION+(1| REGION/SITE)))
fit3<-with(j14.sm, lmer(NUMBER~VWC+(1| REGION/SITE)))
fit4<-with(j14.sm, lmer(NUMBER~REGION*VWC+(1| REGION/SITE)))
AIC(fit1,fit2,fit3,fit4) # FIT 4 IS A LITTLE BETTER... ENOUGH BETTER?
plot<-ggplot(j14.sm, aes(VWC, NUMBER, colour=REGION))+geom_point()+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
plot
ggplot(j14.sm,aes(VWC,NUMBER, colour=REGION))+geom_line+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
ggplot(month, aes(x=Month, y=value, colour=ZONE))+theme_bw()+
stat_smooth(method="glm", se=F)+
ylab("% SOIL MOISTURE")+
xlab("MONTH")+
scale_x_discrete(labels=c("JUNE", "JULY", "AUGUST","SEPTEMBER"))
ggplot(j14.sm,aes(VWC,NUMBER, colour=REGION))
plot<-ggplot(j14.sm, aes(VWC, NUMBER, colour=REGION))+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
plot+theme_bw()+ +geom_smooth(method=lm)
plot<-ggplot(j14.sm, aes(VWC, NUMBER, colour=REGION))+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
plot+theme_bw()+geom_smooth(method=lm)
plot<-ggplot(j14.sm, aes(VWC, NUMBER, colour=REGION))+xlab("% SOIL MOISTURE")+ylab("INDVIDUALS PER PLOT")
plot+theme_bw()+geom_smooth(sd=F)
plot+theme_bw()+geom_smooth(method=lm, sd=F)
?geom_smooth
plot+theme_bw()+geom_smooth(method=lm, se=F)
View(`d14`)
dir()
if (Sys.getenv("USER")=='meaganoldfather') setwd("/Users/meaganoldfather/Desktop/PepperwoodVegPlots/Database/")
setwd("../../../")
setwd("Users/meaganoldfather/Desktop/Pepperwood/HOBO Raw Data 20141216/")
plot.list<-as.character(c(1301:1350))
biglist<-vector(mode="list", length=50)
names(biglist)<-plot.list
for (i in 1:50){
direct<-dir()[i]
temp <-list.files(direct,pattern="*.csv")
sublist<-lapply(paste(direct,"/",temp,sep=""), read.csv,skip=2,header=F)
biglist[[i]]<-sublist
}
sublist<-vector(mode="list", length=50)
names(sublist)<-plot.list
for (i in 1:50){
sub<-biglist[[i]]
sub<-lapply(sub, function(x) x[,2:3])
sub<-as.data.frame(do.call(rbind, sub))
colnames(sub)<-c("Date.Time","Temp")
sublist[[i]]<-sub
}
str(sublist) # list of 50 dataframes, one dataframe for each plot, 2 cols = Date.Time (character) & Temp (numeric)
class(sublist[[1]])
class(sublist[[1]][,1])
sublist[[1]][,1]
class(sublist[[1]][,1])
?as.POSIXct
?as.POSIXct
